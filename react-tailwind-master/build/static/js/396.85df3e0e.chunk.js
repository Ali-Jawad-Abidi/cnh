"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[396],{4396:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=r(885),a=r(9019),l=r(3217),n=r(7313),d=r(7890),i=r(3281),o=r(1881),c=r.n(o),x=r(9466),h=r(3753),u=r(7588),g=r(6719),b=r.n(g),m=r(6417);function p(e){var t=e.user,r=(0,n.useState)("collection"),o=(0,s.Z)(r,2),g=o[0],p=o[1],y=(0,n.useState)(null),f=(0,s.Z)(y,2),j=(t=f[0],f[1]),v=(0,n.useState)(!1),w=(0,s.Z)(v,2),k=w[0],N=w[1],S=(0,n.useState)(u),C=(0,s.Z)(S,2),Z=C[0],E=C[1],U=(0,n.useState)(!1),P=(0,s.Z)(U,2),B=P[0],O=P[1],I=(0,n.useState)(),J=(0,s.Z)(I,2),L=J[0],_=(J[1],JSON.parse(localStorage.getItem("userid"))),F=(0,d.UO)().id,M=(0,n.useState)(_===F),R=(0,s.Z)(M,2),T=R[0],W=(R[1],(0,n.useState)("")),q=(0,s.Z)(W,2),A=q[0],z=q[1];(0,n.useEffect)((function(){var e={method:"get",url:"https://thecnh.co.uk/api/mycollection",params:{id:F}};c()(e).then((function(e){console.log(e.status),200===e.status?!1===e.data?z("User Not Found"):(j(e.data),E(e.data.image)):z("User Not Found")}))}),[]);return console.log(t),console.log(A),null===t&&""===A?(0,m.jsx)(i.Z,{}):null===t&&""!==A?(0,m.jsxs)("div",{children:[(0,m.jsx)(l.Z,{}),(0,m.jsx)("div",{class:"min-h-screen bg-white dark:bg-gray-900",children:(0,m.jsx)("p",{className:"text-center text-xl font-bold text-red-600",children:A})}),(0,m.jsx)(h.Z,{})]}):null!==t&&""===A?(0,m.jsxs)("div",{className:"bg-white dark:bg-gray-900",children:[(0,m.jsx)(l.Z,{}),(0,m.jsxs)(a.ZP,{container:!0,spacing:2,className:"px-2 min-h-screen",children:[(0,m.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:4,children:(0,m.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,m.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg p-2",children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("img",{className:"object-cover",src:Z,alt:""}),T&&(0,m.jsxs)("label",{className:"absolute -bottom-2 px-0.5 py-1 text-sm cursor-pointer right-2 bg-blue-600 text-white rounded-md",children:[(0,m.jsx)("input",{accept:"image/*",type:"file",className:"hidden",onChange:function(e){new(b())(e.target.files[0],{quality:.8,maxHeight:360,maxWidth:640,mimeType:["image/webp"],success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result;E(e);var r={method:"post",url:"https://thecnh.co.uk/api/changedisplay",data:{id:JSON.parse(localStorage.getItem("userid")),image:e}};c()(r).then((function(t){200===t.status?(localStorage.setItem("profileImage",JSON.stringify(e)),alert("Profile Photo Updated")):alert("Profile Photo Update Failed!")}))}}})}}),"Change Profile Photo"]})]}),(0,m.jsx)("p",{class:"mt-2 dark:text-white text-xl font-bold text-center",children:t.username.toUpperCase()})]}),(0,m.jsxs)("div",{className:" dark:bg-gray-800 p-2 rounded-lg flex gap-14 md:!gap-14",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,m.jsx)("p",{className:"text-2xl font-bold text-navy-700 dark:text-white",children:t.bits}),(0,m.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Bits"})]}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,m.jsx)("p",{className:"text-2xl font-bold text-navy-700 dark:text-white",children:t.country}),(0,m.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Country"})]}),(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,m.jsx)("p",{className:"text-2xl font-bold text-navy-700 dark:text-white",children:t.verified?"IS":"NOT"}),(0,m.jsx)("p",{className:"text-sm font-normal text-gray-600",children:"Verified"})]})]}),(0,m.jsxs)("div",{className:"dark:bg-gray-800 rounded-lg p-2",children:[(0,m.jsx)("p",{className:"text-sm font-bold dark:text-white text-left",children:"Email Address"}),!B&&(0,m.jsx)("p",{className:"text-sm dark:text-white text-left",children:t.email}),T&&B&&(0,m.jsxs)("form",{children:[(0,m.jsx)("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Updated Email"}),(0,m.jsxs)("div",{class:"relative",children:[(0,m.jsx)("input",{type:"search",id:"default-search",class:"block w-full p-2 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"updated@email.com",required:!0}),(0,m.jsx)("button",{onClick:function(e){if(e.preventDefault(),T&&""!==L&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L)){var t={url:"https://thecnh.co.uk/api/changeEmail",method:"get",params:{id:_,updatedEmail:L}};c()(t).then((function(e){200===e.status?alert("Email Updated Successfully"):alert("Error: Couldn't update Email.")}))}else alert("Error: Couldn't update Email.")},type:"submit",class:"text-white absolute right-2.5 bottom-1 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-1 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Update"})]})]}),T&&!B&&(0,m.jsx)("p",{onClick:function(){O(!0)},className:"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white px-1 py-1 rounded-lg",children:"Edit Email"})]})]})}),(0,m.jsxs)(a.ZP,{item:!0,xs:12,sm:12,md:8,children:[(0,m.jsxs)("div",{className:"flex flex-row gap-4 mt-4 mx-auto my-2",children:[(0,m.jsxs)("select",{id:"countries",defaultValue:"collection",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:function(e){return p(e.target.value)},children:[(0,m.jsx)("option",{value:"collection",children:"Show My Collection"}),(0,m.jsx)("option",{value:"orders",children:"Show My Orders"}),(0,m.jsx)("option",{value:"bits",children:"Show My Bits Winning"})]}),T&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{className:"px-3 text-sm text-white rounded-lg py-2 bg-blue-600 hover:blue-700",children:"Upload Stuff"}),(0,m.jsx)("a",{href:"https://www.patreon.com/oauth2/authorize?response_type=code&client_id=ErA7RBnKLK4ThvTq7E2dZKoThh3ptjr5FWyJ1a_fDxNYyJQCNaaHNX6HuZaGrneW&redirect_uri=http://localhost:3000/patreon",className:"px-3 text-sm uppercase rounded-lg py-2 bg-white hover:bg-gray-200 text-red-600",children:"Patreon"})]}),(0,m.jsx)("button",{className:"px-3 py-1 bg-blue-600 rounded-lg text-sm text-white",onClick:function(){N(!0)},children:"Bits Scheme"}),k&&(0,m.jsx)("div",{id:"authentication-modal",tabIndex:"-1",className:"fixed z-40 inset-0 flex items-center justify-center w-full p-4 backdrop-blur overflow-x-hidden md:inset-0 h-[calc(80%-1rem)] md:h-full max-h-[100%]",children:(0,m.jsx)("div",{className:"relative w-full h-full max-w-lg h-auto max-h-[90%]",children:(0,m.jsx)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:(0,m.jsxs)("div",{className:"px-6 py-6 lg:px-8",children:[(0,m.jsxs)("div",{class:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[(0,m.jsx)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white",children:"Bits Scheme"}),(0,m.jsxs)("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"defaultModal",onClick:function(){N(!1)},children:[(0,m.jsx)("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),(0,m.jsx)("span",{class:"sr-only",children:"Close modal"})]})]}),(0,m.jsx)("div",{class:"p-6 space-y-6",children:(0,m.jsxs)("p",{class:"text-sm leading-relaxed text-left text-gray-500 dark:text-gray-400",children:['10 "bits" is equal to \xa31 on our store, but bits can not be traded with other users or for real-world currency.',(0,m.jsx)("br",{}),"Bits can be earned through actions such as:",(0,m.jsx)("br",{})," -Becoming a patreon member (one-off) - 50 bits",(0,m.jsx)("br",{}),"-Remaining a patreon member for 6 months - 100 bits",(0,m.jsx)("br",{}),"-Logging into the website for 7 consecutive days - 5 bits",(0,m.jsx)("br",{})," -Correcting a mistake - 1 bit",(0,m.jsx)("br",{})," -Referring a friend to patreon - 50 bits to you and your friend",(0,m.jsx)("br",{})," -Adding a new console to the base - 5 bits",(0,m.jsx)("br",{}),"-Wearing our merch and promoting us at a gaming event - 50 bits",(0,m.jsx)("br",{})," -Earn the most points in a month win an additional - 50 bits",(0,m.jsx)("br",{})," -Share anything brand-new, never-before-seen unreleased game-related - 500 bits",(0,m.jsx)("br",{})," -Share any brand new information from another source - 25 bits",(0,m.jsx)("br",{})," -Create a new article or forum post that gets picked up by another website or game source - 25 bits",(0,m.jsx)("br",{}),"Standard users can earn up to 25 points p/day Premium users can earn up to 75 points p/day"]})})]})})})})]}),"collection"===g&&(0,m.jsx)("div",{className:"overflow-y-scroll",children:(0,m.jsxs)("table",{class:"w-full text-sm text-left overflow-y-scroll text-gray-500 dark:text-gray-400",children:[(0,m.jsx)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-200 dark:bg-gray-700 dark:text-gray-400",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Console"}),(0,m.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Color"})]})}),(0,m.jsx)("tbody",{children:t.myconsoles.map((function(e){return(0,m.jsxs)("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,m.jsx)(x.rU,{to:"/productpage/".concat(e._id),children:(0,m.jsxs)("th",{scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:[(0,m.jsx)("img",{class:"w-10 h-10 rounded-full",src:e.img,alt:"Jese image"}),(0,m.jsxs)("div",{class:"pl-3",children:[(0,m.jsx)("div",{class:"text-base font-semibold",children:e.name}),(0,m.jsx)("div",{class:"font-normal text-gray-500",children:e.country})]})]})}),(0,m.jsx)("td",{class:"px-6 py-4",children:e.color})]})}))})]})}),"orders"===g&&(0,m.jsxs)("table",{class:"w-full text-sm text-left overflow-y-scroll text-gray-500 dark:text-gray-400",children:[(0,m.jsx)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Order"}),(0,m.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Status"})]})}),(0,m.jsx)("tbody",{children:t.myOrders.map((function(e){return(0,m.jsxs)("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[(0,m.jsxs)("th",{scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:[(0,m.jsx)("img",{class:"w-10 h-10 rounded-full",src:e.img,alt:"Jese image"}),(0,m.jsxs)("div",{class:"pl-3",children:[(0,m.jsx)("div",{class:"text-base font-semibold",children:e.payer_name}),(0,m.jsx)("div",{class:"font-normal text-gray-500",children:e._id})]})]}),(0,m.jsx)("td",{class:"px-6 py-4",children:e.status})]})}))})]}),"bits"===g&&(0,m.jsxs)("table",{class:"w-full text-sm text-left overflow-y-scroll text-gray-500 dark:text-gray-400",children:[(0,m.jsx)("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,m.jsx)("tr",{children:(0,m.jsx)("th",{scope:"col",class:"px-6 py-3",children:"Info"})})}),(0,m.jsx)("tbody",{children:t.bitshistory.map((function(e){return(0,m.jsx)("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:(0,m.jsx)("th",{scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white",children:(0,m.jsx)("div",{class:"pl-3",children:(0,m.jsx)("div",{class:"text-base font-semibold",children:e})})})})}))})]})]})]}),(0,m.jsx)(h.Z,{})]}):void 0}}}]);