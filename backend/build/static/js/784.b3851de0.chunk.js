"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[784],{3784:function(e,t,r){r.r(t),r.d(t,{EcomCard:function(){return x},ProductsGrid:function(){return p},default:function(){return g}});var i=r(3430),n=r(9019),s=r(3960),o=r(7313),a=r(1881),c=r.n(a),l=r(9466),d=r(3281),u=r(3753),m=r(1927),h=r(6417);function x(e){var t=e.addCart;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"group border-gray-700 dark:border-white max-h-[65vh]  shadow flex w-full max-w-xs flex-col self-center overflow-hidden rounded-lg border bg-white shadow-md dark:bg-gray-700",children:[(0,h.jsxs)(l.rU,{className:"relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl",to:"/merchitem/".concat(e.item._id),children:[(0,h.jsx)("img",{class:"peer absolute top-0 right-0 h-full w-full object-cover",src:e.item.images[0],alt:"product image"}),(0,h.jsx)("img",{class:"peer peer-hover:right-0 absolute top-0 -right-96 h-full w-full object-cover transition-all delay-100 duration-1000 hover:right-0",src:e.item.images[1]?e.item.images[1]:e.item.images[0],alt:"product image"}),(0,h.jsx)("svg",{className:"group-hover:animate-ping group-hover:opacity-30 peer-hover:opacity-0 pointer-events-none absolute inset-x-0 bottom-5 mx-auto text-3xl text-white transition-opacity",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",children:(0,h.jsx)("path",{fill:"currentColor",d:"M2 10a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v10a4 4 0 0 1-2.328 3.635a2.996 2.996 0 0 0-.55-.756l-8-8A3 3 0 0 0 14 17v7H6a4 4 0 0 1-4-4V10Zm14 19a1 1 0 0 0 1.8.6l2.7-3.6H25a1 1 0 0 0 .707-1.707l-8-8A1 1 0 0 0 16 17v12Z"})})]}),(0,h.jsxs)("div",{className:"mt-2 px-5 pb-5",children:[(0,h.jsx)(l.rU,{to:"/merchitem/".concat(e.item._id),children:(0,h.jsx)("h5",{className:"text-xl tracking-tight text-gray-700 h-auto dark:text-white",children:e.item.title})}),(0,h.jsx)("div",{className:" flex flex-col items-center justify-between",children:(0,h.jsxs)("p",{children:[e.item.discount>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("span",{className:"grow mt-2 text-3xl font-bold text-gray-700 dark:text-white",children:["$",e.item.price-e.item.price*e.item.discount/100]}),(0,h.jsxs)("sup",{className:"text-sm pt-2 text-gray-700 line-through dark:text-white",children:["$",e.item.price]})]}):(0,h.jsxs)("span",{className:"grow mt-2 text-3xl font-bold text-gray-700 dark:text-white",children:["$",e.item.price-e.item.price*e.item.discount/100]}),(0,h.jsx)("br",{}),e.item.bits&&(0,h.jsxs)("span",{className:"grow text-sm pt-2 text-gray-700 dark:text-white",children:[(10*e.item.price).toFixed(2)," Bits"]}),!e.item.bits&&(0,h.jsx)("span",{className:"grow text-sm pt-2 text-gray-700 dark:text-white",children:"Can't buy with Bits"})]})}),(0,h.jsxs)("div",{onClick:function(){var r={img:e.item.images[0],title:e.item.title,id:e.item._id,price:e.item.price,discount:e.item.discount,quantity:1};t(r)},className:"hover:border-white/40 focus:bg-green-700 cursor-pointer flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300",children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to cart"]})]})]})})}function p(e){var t=e.merch,r=function(e){var t=JSON.parse(sessionStorage.getItem("cart"))||[],r=t.findIndex((function(t){return t.id===e.id}));-1===r?(t.push(e),sessionStorage.setItem("cart",JSON.stringify(t)),window.dispatchEvent(new Event("storage"))):e.quantity!==t[r]&&(t[r].quantity=e.quantity,sessionStorage.setItem("cart",JSON.stringify(t)),setTotal(total+1))};return t===[]?(0,h.jsx)(d.Z,{}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(n.ZP,{container:!0,rowSpacing:1,columnSpacing:1,children:t.map((function(e,t){return(0,h.jsx)(n.ZP,{item:!0,xs:6,sm:6,md:3,children:(0,h.jsx)(x,{item:e,addCart:r})})}))})})}function g(){var e=(0,o.useState)([]),t=(0,i.Z)(e,2),r=t[0],a=t[1],l=(0,o.useState)(!1),d=(0,i.Z)(l,2),x=d[0],g=d[1];function f(){var e={method:"post",url:"https://thecnh.co.uk/api/getmerch",data:{start:r.length}};c()(e).then((function(e){if(200===e.status){console.log(e.data);var t=r.concat(e.data.items);g(!e.data.isEnd),a(t)}else g(!1),a([])}))}return(0,o.useEffect)((function(){f()}),[]),(0,h.jsx)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-900",children:(0,h.jsxs)(s.Z,{spacing:2,children:[(0,h.jsx)(m.Z,{}),(0,h.jsxs)(n.ZP,{container:!0,className:"min-h-screen",children:[(0,h.jsx)(n.ZP,{item:!0,xs:.5,sm:.5,md:.5}),(0,h.jsxs)(n.ZP,{item:!0,xs:11,sm:11,md:11,children:[(0,h.jsx)("h2",{className:"company uppercase text-blue-700 font-bold text-xl sm:text-md tracking-wider pb-3 sm:pb-5",children:"consolenostalgia store"}),(0,h.jsx)(p,{merch:r}),x&&(0,h.jsx)("div",{className:"flex pt-3 pb-3 justify-center w-full",children:(0,h.jsx)("div",{onClick:function(){f()},className:"button  w-2/5 ml-10 px-10 py-3 bg-blue-700 rounded-lg lg:rounded-xl shadow-bg-blue-700 shadow-2xl text-white flex justify-center cursor-pointer hover:opacity-60",children:"Show More"})})]})]}),(0,h.jsx)(u.Z,{})]})})}},3960:function(e,t,r){r.d(t,{Z:function(){return Z}});var i=r(6222),n=r(916),s=r(4695),o=r(7313),a=r(3061),c=r(3019),l=r(1921),d=r(2298),u=(0,r(6541).ZP)(),m=r(5900),h=r(9028),x=r(9456),p=r(4929),g=r(6886),f=r(6417),v=["component","direction","spacing","divider","children","className"],w=(0,x.Z)(),b=u("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function j(e){return(0,m.Z)({props:e,name:"MuiStack",defaultTheme:w})}function y(e,t){var r=o.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,n){return e.push(i),n<r.length-1&&e.push(o.cloneElement(t,{key:"separator-".concat(n)})),e}),[])}var k=function(e){var t=e.ownerState,r=e.theme,n=(0,s.Z)({display:"flex",flexDirection:"column"},(0,p.k9)({theme:r},(0,p.P$)({values:t.direction,breakpoints:r.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var o=(0,g.hB)(r),a=Object.keys(r.breakpoints.values).reduce((function(e,r){return("object"===typeof t.spacing&&null!=t.spacing[r]||"object"===typeof t.direction&&null!=t.direction[r])&&(e[r]=!0),e}),{}),l=(0,p.P$)({values:t.direction,base:a}),d=(0,p.P$)({values:t.spacing,base:a});"object"===typeof l&&Object.keys(l).forEach((function(e,t,r){if(!l[e]){var i=t>0?l[r[t-1]]:"column";l[e]=i}}));n=(0,c.Z)(n,(0,p.k9)({theme:r},d,(function(e,r){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((n=r?l[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n])),(0,g.NA)(o,e))};var n})))}return n=(0,p.dt)(r.breakpoints,n)};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,r=void 0===t?b:t,i=e.useThemeProps,c=void 0===i?j:i,u=e.componentName,m=void 0===u?"MuiStack":u,x=r(k),p=o.forwardRef((function(e,t){var r=c(e),i=(0,h.Z)(r),o=i.component,u=void 0===o?"div":o,p=i.direction,g=void 0===p?"column":p,w=i.spacing,b=void 0===w?0:w,j=i.divider,k=i.children,N=i.className,Z=(0,n.Z)(i,v),S={direction:g,spacing:b},C=(0,l.Z)({root:["root"]},(function(e){return(0,d.Z)(m,e)}),{});return(0,f.jsx)(x,(0,s.Z)({as:u,ownerState:S,ref:t,className:(0,a.Z)(C.root,N)},Z,{children:j?y(k,j):k}))}));return p}(),Z=N}}]);