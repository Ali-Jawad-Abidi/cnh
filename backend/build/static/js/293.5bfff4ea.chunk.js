"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[293],{6293:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var i=n(3430),s=n(3960),l=n(3753),r=n(1927),a=n(7313),o=n(3281),c=n(9466),d=n(7890),u=n(1881),m=n.n(u),x=n(6417);function h(e){var t=e.item.images,n=(0,a.useState)(t[0]),s=(0,i.Z)(n,2),l=s[0],r=s[1],o=e.item.images,c=function(e){r(o[e.target.id])},d=(0,a.useState)(0),u=(0,i.Z)(d,2),m=u[0],h=u[1];return(0,x.jsxs)("section",{className:"modal pt-32 absolute z-40 inset-0 flex flex-col items-end justify-center mt-20 h-screen",children:[(0,x.jsx)("div",{className:"screen fixed inset-0 opacity-70 bg-black transition-all"}),(0,x.jsxs)("div",{className:"modal-content container max-w-lg m-auto z-40 relative pt-10",children:[(0,x.jsx)("span",{onClick:e.close,className:"close absolute top-0 right-0 text-4xl leading-0 cursor-pointer text-white hover:text-orange transition-colors",children:(0,x.jsx)("ion-icon",{name:"close-outline"})}),(0,x.jsx)("div",{className:"preview xl:min-w-md max-w-3xl rounded-2xl overflow-hidden cursor-pointer",children:(0,x.jsx)("img",{src:l,alt:"product-preview"})}),(0,x.jsx)("div",{className:"thumbnails flex max-w-3xl justify-between pt-8",children:o.map((function(e,t){return(0,x.jsx)("div",{className:"cursor-pointer w-22 h-22 rounded-xl hover:opacity-80 relative overflow-hidden bg-white",children:(0,x.jsx)("img",{id:t,onClick:c,className:"w-full",src:e,alt:"thumbnail"})},t)}))})]}),(0,x.jsxs)("div",{className:"directions absolute inset-x-1/4 inset-y-1/2 flex items-end justify-between mx-20 z-40",children:[(0,x.jsx)("button",{onClick:function(){var e=0===m?t.length-1:m-1;h(e),r(t[e])},className:"back-arrow w-14 h-14 bg-white rounded-full",children:(0,x.jsx)("i",{className:"flex text-black items-center justify-center m-auto text-2xl hover:text-black",children:(0,x.jsx)("ion-icon",{name:"chevron-back-outline"})})}),(0,x.jsx)("button",{onClick:function(){var e=m===t.length-1?0:m+1;h(e),r(t[e])},className:"next-arrow w-14 h-14 bg-white rounded-full",children:(0,x.jsx)("i",{className:"flex items-center text-black justify-center m-auto text-2xl hover:text-black",children:(0,x.jsx)("ion-icon",{name:"chevron-forward-outline"})})})]})]})}function g(e){var t=e.item.images,n=(0,a.useState)(0),s=(0,i.Z)(n,2),l=s[0],r=s[1],o=(0,a.useState)(t[l]),c=(0,i.Z)(o,2),d=c[0],u=c[1];return(0,x.jsxs)("div",{className:"slider overflow-hidden relative mt-1",children:[(0,x.jsx)("div",{className:"images flex w-full h-96 items-center transition-all",children:(0,x.jsx)("img",{src:d,alt:"slider-img"})}),(0,x.jsxs)("div",{className:"directions absolute inset-x-0 inset-y-1/2 flex items-center justify-between mx-4",children:[(0,x.jsx)("button",{onClick:function(){r(0===l?t.length-1:l-1),u(t[l])},className:"back-arrow w-10 h-10 bg-white rounded-full",children:(0,x.jsx)("i",{className:"flex items-center justify-center m-auto text-lg",children:(0,x.jsx)("ion-icon",{name:"chevron-back-outline"})})}),(0,x.jsx)("button",{onClick:function(){r(l===t.length-1?0:l+1),u(t[l])},className:"next-arrow w-10 h-10 bg-white rounded-full",children:(0,x.jsx)("i",{className:"flex items-center justify-center m-auto text-lg",children:(0,x.jsx)("ion-icon",{name:"chevron-forward-outline"})})})]})]})}function f(e){var t=(0,a.useState)(e.item.images[0]),n=(0,i.Z)(t,2),s=n[0],l=n[1],r=e.item.images,o=function(e){l(r[e.target.id])};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"preview xl:min-w-md max-w-3xl rounded-2xl overflow-hidden cursor-pointer",children:(0,x.jsx)("img",{onClick:e.open,src:s,alt:"product-preview"})}),(0,x.jsx)("div",{className:"thumbnails flex flex-row gap-1 mt-8 ",children:r.map((function(e,t){return(0,x.jsx)("div",{className:"cursor-pointer w-22 h-20 rounded-xl items-center justify-center hover:opacity-80 relative overflow-hidden bg-white dark:bg-gray-900",children:(0,x.jsx)("img",{id:t,onClick:o,className:"object-fill h-full w-full",src:e,alt:"thumbnail"})},t)}))})]})}function p(e){var t=e.item.title,n=e.item.price,s=e.item.discount,l=e.item.description,r=e.item.images,o=e.addCart,d=e.item.quantity,u=(0,a.useState)(1),m=(0,i.Z)(u,2),h=m[0],g=m[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:"company uppercase text-blue-700 font-bold text-sm sm:text-md tracking-wider pb-3 sm:pb-5",children:"consolenostalgia store"}),(0,x.jsx)("h3",{className:"product capitalize text-very-dark-blue font-bold text-3xl sm:text-4xl sm:leading-none pb-3",children:t}),(0,x.jsx)("p",{className:"text-dark-grayish-blue pb-6 lg:py-7 lg:leading-6",children:l}),(0,x.jsxs)("div",{className:"amount font-bold flex items-center justify-between lg:flex-col lg:items-start mb-6",children:[(0,x.jsxs)("div",{className:"discount-price items-center flex",children:[(0,x.jsxs)("div",{className:"price text-3xl",children:["$",n-n*(s/100)]}),(0,x.jsx)("div",{className:"discount text-blue-700 bg-blue-200 w-max px-2 rounded mx-5 h-6",children:s+"% off"})]}),(0,x.jsxs)("div",{className:"original-price text-grayish-blue line-through lg:mt-2",children:["$",n]})]}),(0,x.jsxs)("div",{className:"sm:flex lg:mt-8 w-full",children:[(0,x.jsxs)("div",{className:"quantity-container w-full bg-light-grayish-blue rounded-lg h-14 mb-4 flex items-center justify-between px-6 lg:px-3 font-bold sm:mr-3 lg:mr-5 lg:w-1/3",children:[(0,x.jsx)("button",{onClick:function(){g(1!==h?h-1:1)},className:"text-blue-700 text-2xl leading-none font-bold mb-1 lg:mb-2 lg:text-3xl hover:opacity-60",children:"-"}),(0,x.jsx)("input",{min:1,max:d,className:"quantity focus:outline-none text-dark-blue bg-light-grayish-blue font-bold flex text-center w-full dark:text-white dark:bg-gray-800",type:"number",name:"quantity",value:h,"aria-label":"quantity number"}),(0,x.jsx)("button",{onClick:function(){g(h!==d?h+1:d)},className:"text-blue-700 text-2xl leading-none font-bold mb-1 lg:mb-2 lg:text-3xl hover:opacity-60",children:"+"})]}),(0,x.jsxs)("button",{onClick:function(i){var l={id:e.item._id,title:t,img:r[0],price:n,discount:s,quantity:h};o(l)},className:"cart w-full h-14 bg-blue-700 rounded-lg lg:rounded-xl mb-2 shadow-bg-blue-700 shadow-2xl text-white flex items-center justify-center lg:w-3/5 hover:opacity-60",children:[(0,x.jsx)("i",{className:"cursor-pointer text-white text-xl leading-0 pr-3",children:(0,x.jsx)("ion-icon",{name:"cart-outline"})}),"Add to cart"]})]}),(0,x.jsxs)("div",{className:"flex flex-row gap-2 justify-evenly",children:[null===sessionStorage.getItem("userid")&&(0,x.jsx)(c.rU,{className:"cart w-full py-4 bg-blue-700 rounded-lg lg:rounded-xl shadow-bg-blue-700 text-white hover:opacity-60",to:"/login",children:"Login or Sign Up to pay"}),null!==sessionStorage.getItem("userid")&&(0,x.jsx)(c.rU,{className:"cart w-full py-4 bg-blue-700 rounded-lg lg:rounded-xl shadow-bg-blue-700 text-white hover:opacity-60",to:"/checkout",children:"Go to Checkout"})]})]})}function b(){var e=(0,d.UO)().id,t=(0,a.useState)(null),n=(0,i.Z)(t,2),c=n[0],u=n[1],b=(0,a.useState)(!1),v=(0,i.Z)(b,2),j=v[0],w=v[1],y=(0,a.useState)(0),N=(0,i.Z)(y,2),k=(N[0],N[1],"cart"in sessionStorage?JSON.parse(sessionStorage.getItem("cart")).length:0),S=(0,a.useState)(k),Z=(0,i.Z)(S,2),C=Z[0],q=Z[1];return(0,a.useEffect)((function(){var t={method:"post",url:"https://thecnh.co.uk/api/getmerch",data:{id:e}};m()(t).then((function(e){u(e.data.items)}))}),[]),null===c?(0,x.jsx)(o.Z,{}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.Z,{children:[(0,x.jsxs)("div",{className:"App font-kumbh-sans min-h-screen relative dark:bg-gray-900 dark:text-white",children:[(0,x.jsx)(r.Z,{total:C}),(0,x.jsxs)("main",{className:"product-container lg:flex lg:items-center lg:gap-x-12 xl:gap-x-24 lg:px-20 xl:px-40 lg:py-20 lg:m-auto lg:mt-2 lg:max-w-8xl",children:[(0,x.jsx)("h1",{className:"absolute w-1 h-1 overflow-hidden p-0 -m-1",children:"Product page"}),j&&(0,x.jsx)(h,{item:c,close:function(){w(!1)}}),(0,x.jsx)("div",{className:"mobile-slider lg:hidden",children:(0,x.jsx)(g,{item:c})}),(0,x.jsx)("div",{className:"destop-preview hidden lg:block",children:(0,x.jsx)(f,{open:function(){w(!0)},item:c})}),(0,x.jsx)("section",{className:"product-details container mx-auto px-6 pt-5 sm:pt-10 lg:pt-5 pb-20 lg:pb-5 lg:pr-0 lg:pl-7 xl:ml-1",children:(0,x.jsx)(p,{addCart:function(e){var t=JSON.parse(sessionStorage.getItem("cart"))||[],n=t.findIndex((function(t){return t.id===e.id}));-1===n?(t.push(e),sessionStorage.setItem("cart",JSON.stringify(t)),window.dispatchEvent(new Event("storage"))):e.quantity!==t[n]&&(t[n].quantity=e.quantity,sessionStorage.setItem("cart",JSON.stringify(t)),q(C+1))},item:c})})]})]}),(0,x.jsx)(l.Z,{})]})})}},3960:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(6222),s=n(916),l=n(4695),r=n(7313),a=n(3061),o=n(3019),c=n(1921),d=n(2298),u=(0,n(6541).ZP)(),m=n(5900),x=n(9028),h=n(9456),g=n(4929),f=n(6886),p=n(6417),b=["component","direction","spacing","divider","children","className"],v=(0,h.Z)(),j=u("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function w(e){return(0,m.Z)({props:e,name:"MuiStack",defaultTheme:v})}function y(e,t){var n=r.Children.toArray(e).filter(Boolean);return n.reduce((function(e,i,s){return e.push(i),s<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(s)})),e}),[])}var N=function(e){var t=e.ownerState,n=e.theme,s=(0,l.Z)({display:"flex",flexDirection:"column"},(0,g.k9)({theme:n},(0,g.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var r=(0,f.hB)(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),c=(0,g.P$)({values:t.direction,base:a}),d=(0,g.P$)({values:t.spacing,base:a});"object"===typeof c&&Object.keys(c).forEach((function(e,t,n){if(!c[e]){var i=t>0?c[n[t-1]]:"column";c[e]=i}}));s=(0,o.Z)(s,(0,g.k9)({theme:n},d,(function(e,n){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((s=n?c[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s])),(0,f.NA)(r,e))};var s})))}return s=(0,g.dt)(n.breakpoints,s)};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?j:t,i=e.useThemeProps,o=void 0===i?w:i,u=e.componentName,m=void 0===u?"MuiStack":u,h=n(N),g=r.forwardRef((function(e,t){var n=o(e),i=(0,x.Z)(n),r=i.component,u=void 0===r?"div":r,g=i.direction,f=void 0===g?"column":g,v=i.spacing,j=void 0===v?0:v,w=i.divider,N=i.children,k=i.className,S=(0,s.Z)(i,b),Z={direction:f,spacing:j},C=(0,c.Z)({root:["root"]},(function(e){return(0,d.Z)(m,e)}),{});return(0,p.jsx)(h,(0,l.Z)({as:u,ownerState:Z,ref:t,className:(0,a.Z)(C.root,k)},S,{children:w?y(N,w):N}))}));return g}(),S=k}}]);